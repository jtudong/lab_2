config {
  shared {
    application;
    application-group;
    service;
    service-group;
    botnet {
      configuration {
        http {
          dynamic-dns {
            enabled yes;
            threshold 5;
          }
          malware-sites {
            enabled yes;
            threshold 5;
          }
          recent-domains {
            enabled yes;
            threshold 5;
          }
          ip-domains {
            enabled yes;
            threshold 10;
          }
          executables-from-unknown-sites {
            enabled yes;
            threshold 5;
          }
        }
        other-applications {
          irc yes;
        }
        unknown-applications {
          unknown-tcp {
            destinations-per-hour 10;
            sessions-per-hour 10;
            session-length {
              maximum-bytes 100;
              minimum-bytes 50;
            }
          }
          unknown-udp {
            destinations-per-hour 10;
            sessions-per-hour 10;
            session-length {
              maximum-bytes 100;
              minimum-bytes 50;
            }
          }
        }
      }
      report {
        topn 100;
        scheduled yes;
      }
    }
  }
  devices {
    localhost.localdomain {
      network {
        interface {
          ethernet {
            ethernet1/1 {
              layer3 {
                ndp-proxy {
                  enabled no;
                }
                sdwan-link-settings {
                  upstream-nat {
                    enable no;
                    static-ip;
                  }
                  enable no;
                }
                ip {
                  10.1.254.2/30;
                }
                lldp {
                  enable yes;
                  profile default;
                }
                interface-management-profile ping;
              }
              comment corpInet01-e0-1;
            }
            ethernet1/2 {
              layer3 {
                ndp-proxy {
                  enabled no;
                }
                sdwan-link-settings {
                  upstream-nat {
                    enable no;
                    static-ip;
                  }
                  enable no;
                }
                lldp {
                  enable yes;
                  profile default;
                }
                ip {
                  10.1.1.4/24;
                }
                interface-management-profile https-ssh-ping-snmp;
              }
            }
          }
        }
        profiles {
          monitor-profile {
            default {
              interval 3;
              threshold 5;
              action wait-recover;
            }
          }
          lldp-profile {
            default {
              option-tlvs {
                management-address {
                  enabled no;
                }
                port-description yes;
                system-name yes;
                system-description yes;
              }
            }
          }
          interface-management-profile {
            ping {
              ping yes;
            }
            https-ssh-ping-snmp {
              https yes;
              ssh yes;
              snmp yes;
              ping yes;
            }
          }
        }
        ike {
          crypto-profiles {
            ike-crypto-profiles {
              default {
                encryption [ aes-128-cbc 3des];
                hash sha1;
                dh-group group2;
                lifetime {
                  hours 8;
                }
              }
              Suite-B-GCM-128 {
                encryption aes-128-cbc;
                hash sha256;
                dh-group group19;
                lifetime {
                  hours 8;
                }
              }
              Suite-B-GCM-256 {
                encryption aes-256-cbc;
                hash sha384;
                dh-group group20;
                lifetime {
                  hours 8;
                }
              }
            }
            ipsec-crypto-profiles {
              default {
                esp {
                  encryption [ aes-128-cbc 3des];
                  authentication sha1;
                }
                dh-group group2;
                lifetime {
                  hours 1;
                }
              }
              Suite-B-GCM-128 {
                esp {
                  encryption aes-128-gcm;
                  authentication none;
                }
                dh-group group19;
                lifetime {
                  hours 1;
                }
              }
              Suite-B-GCM-256 {
                esp {
                  encryption aes-256-gcm;
                  authentication none;
                }
                dh-group group20;
                lifetime {
                  hours 1;
                }
              }
            }
            global-protect-app-crypto-profiles {
              default {
                encryption aes-128-cbc;
                authentication sha1;
              }
            }
          }
        }
        qos {
          profile {
            default {
              class-bandwidth-type {
                mbps {
                  class {
                    class1 {
                      priority real-time;
                    }
                    class2 {
                      priority high;
                    }
                    class3 {
                      priority high;
                    }
                    class4 {
                      priority medium;
                    }
                    class5 {
                      priority medium;
                    }
                    class6 {
                      priority low;
                    }
                    class7 {
                      priority low;
                    }
                    class8 {
                      priority low;
                    }
                  }
                }
              }
            }
          }
        }
        virtual-router {
          default {
            protocol {
              bgp {
                enable no;
                dampening-profile {
                  default {
                    cutoff 1.25;
                    reuse 0.5;
                    max-hold-time 900;
                    decay-half-life-reachable 300;
                    decay-half-life-unreachable 900;
                    enable yes;
                  }
                }
                routing-options {
                  graceful-restart {
                    enable yes;
                  }
                }
              }
              rip {
                enable no;
              }
              ospf {
                enable yes;
                area {
                  0.0.0.0 {
                    type {
                      normal;
                    }
                    interface {
                      ethernet1/1 {
                        bfd {
                          profile Inherit-vr-global-setting;
                        }
                        enable yes;
                        passive no;
                        gr-delay 10;
                        metric 10;
                        priority 1;
                        hello-interval 10;
                        dead-counts 4;
                        retransmit-interval 5;
                        transit-delay 1;
                        link-type {
                          broadcast;
                        }
                      }
                      ethernet1/2 {
                        bfd {
                          profile Inherit-vr-global-setting;
                        }
                        enable yes;
                        passive no;
                        gr-delay 10;
                        metric 10;
                        priority 1;
                        hello-interval 10;
                        dead-counts 4;
                        retransmit-interval 5;
                        transit-delay 1;
                        link-type {
                          broadcast;
                        }
                      }
                    }
                  }
                }
                router-id 10.1.1.4;
                reject-default-route no;
              }
              ospfv3 {
                enable no;
              }
            }
            interface [ ethernet1/1 ethernet1/2];
            ecmp {
              algorithm {
                ip-modulo;
              }
            }
          }
        }
        lldp {
          enable yes;
        }
      }
      deviceconfig {
        system {
          type {
            static;
          }
          update-server updates.paloaltonetworks.com;
          update-schedule {
            threats {
              recurring {
                every-30-mins {
                  at 18;
                  action download-and-install;
                }
              }
            }
            anti-virus {
              recurring {
                hourly {
                  at 5;
                  action download-and-install;
                }
              }
            }
            wildfire {
              recurring {
                every-15-mins {
                  at 5;
                  action download-and-install;
                }
              }
            }
          }
          timezone America/Phoenix;
          service {
            disable-telnet yes;
            disable-http yes;
          }
          hostname corpFw1;
          ip-address 172.31.255.9;
          netmask 255.255.255.0;
          default-gateway 172.31.255.100;
          dns-setting {
            servers {
              primary 4.2.2.1;
              secondary 208.67.222.222;
            }
          }
          route {
            service {
              dns {
                source {
                  address 10.1.1.4/24;
                  interface ethernet1/2;
                }
              }
              ldap {
                source {
                  address 10.1.1.4/24;
                  interface ethernet1/2;
                }
              }
              netflow {
                source {
                  address 10.1.1.4/24;
                  interface ethernet1/2;
                }
              }
              panorama {
                source {
                  address 10.1.1.4/24;
                  interface ethernet1/2;
                }
              }
              snmp {
                source {
                  address 10.1.1.4/24;
                  interface ethernet1/2;
                }
              }
              syslog {
                source {
                  address 10.1.1.4/24;
                  interface ethernet1/2;
                }
              }
              tacplus {
                source {
                  address 10.1.1.4/24;
                  interface ethernet1/2;
                }
              }
            }
          }
          domain company.pri;
          snmp-setting {
            snmp-system {
              location lab2;
            }
          }
          motd-and-banner {
            banner-header corpFw1;
            banner-header-color color6;
            banner-header-text-color color14;
            banner-header-footer-match no;
          }
          ntp-servers {
            primary-ntp-server {
              ntp-server-address time1.google.com;
              authentication-type {
                none;
              }
            }
            secondary-ntp-server {
              ntp-server-address time2.google.com;
              authentication-type {
                none;
              }
            }
          }
          device-telemetry {
            threat-prevention no;
            device-health-performance no;
            product-usage no;
          }
        }
        setting {
          config {
            rematch yes;
          }
          management {
            hostname-type-in-syslog FQDN;
          }
          auto-mac-detect yes;
        }
      }
      vsys {
        vsys1 {
          application;
          application-group;
          zone {
            outside {
              network {
                layer3 ethernet1/1;
              }
            }
            inside {
              network {
                layer3 ethernet1/2;
              }
            }
          }
          service;
          service-group;
          schedule;
          rulebase {
            security {
              rules {
                "permit core1 ip sla to isp1" f99005e6-c6d8-43da-83ec-9467a067dd5a {
                  to outside;
                  from inside;
                  source 10.1.1.2;
                  destination ISP1-e0-1-1;
                  source-user any;
                  category any;
                  application any;
                  service any;
                  source-hip any;
                  destination-hip any;
                  action allow;
                  rule-type interzone;
                  disabled no;
                }
                "permit all internet" a32ddc07-c46a-43c1-9229-889e7ed78a46 {
                  to outside;
                  from inside;
                  source any;
                  destination any;
                  source-user any;
                  category any;
                  application any;
                  service application-default;
                  source-hip any;
                  destination-hip any;
                  action allow;
                }
                "permit dns" 429ae1ab-1b2b-4749-8ea0-e41f1a9c93ee {
                  to inside;
                  from inside;
                  source any;
                  destination [ DC1 DC2];
                  source-user any;
                  category any;
                  application dns;
                  service application-default;
                  source-hip any;
                  destination-hip any;
                  action allow;
                  rule-type intrazone;
                }
                "Permit OSPF" ac20d30e-d2f1-43ab-9bca-9f50b84125bc {
                  to [ inside outside];
                  from [ inside outside];
                  source any;
                  destination any;
                  source-user any;
                  category any;
                  application [ ospf ospfigp];
                  service application-default;
                  source-hip any;
                  destination-hip any;
                  action allow;
                  rule-type intrazone;
                }
                "Permit ldap" 6ebe3640-c556-43da-b2d0-bcfcc7c6dda3 {
                  to inside;
                  from inside;
                  source any;
                  destination any;
                  source-user any;
                  category any;
                  application ldap;
                  service application-default;
                  source-hip any;
                  destination-hip any;
                  action allow;
                  rule-type intrazone;
                }
              }
            }
            nat {
              rules {
                "PAT for security subnet" 000b03bc-0693-4017-95b8-8ba6fa7a41b5 {
                  source-translation {
                    dynamic-ip-and-port {
                      translated-address 100.64.1.1;
                    }
                  }
                  to outside;
                  from inside;
                  source vlan-4-security;
                  destination any;
                  service any;
                }
                "PAT for servers" 44e1e004-acdc-47de-92ff-a55ebdb1d996 {
                  source-translation {
                    dynamic-ip-and-port {
                      translated-address 100.64.1.2;
                    }
                  }
                  to outside;
                  from inside;
                  source nat-group-servers;
                  destination any;
                  service any;
                }
                "PAT for users" 853d24ae-5739-43fb-bc32-d03d29f40b1e {
                  source-translation {
                    dynamic-ip-and-port {
                      translated-address 100.64.1.3;
                    }
                  }
                  to outside;
                  from inside;
                  source nat-group-users;
                  destination any;
                  service any;
                }
                "PAT for management" ffc8669a-8646-481e-8798-ee96b291465d {
                  source-translation {
                    dynamic-ip-and-port {
                      translated-address 100.64.1.4;
                    }
                  }
                  to outside;
                  from inside;
                  source vlan-7-management;
                  destination any;
                  service any;
                }
              }
            }
            default-security-rules {
              rules {
                intrazone-default 6b8508fd-570d-4ed7-956b-4094e951fde1 {
                  action drop;
                  log-start yes;
                  log-end no;
                }
                interzone-default bc52e405-6e68-44e0-9042-903d20535535 {
                  action deny;
                  log-start yes;
                  log-end no;
                }
              }
            }
          }
          import {
            network {
              interface [ ethernet1/1 ethernet1/2];
            }
          }
          address {
            corpInet01-e0-1 {
              ip-netmask 10.1.254.1/32;
            }
            vlan-4-security {
              ip-netmask 10.1.1.0/24;
              description "security devices";
            }
            vlan-5-servers {
              ip-netmask 10.1.2.0/24;
            }
            vlan-6-users1 {
              ip-netmask 10.1.3.0/24;
            }
            vlan-7-management {
              ip-netmask 10.1.4.0/24;
            }
            ISP1-e0-1-1 {
              ip-netmask 172.16.1.1/32;
            }
            DC1 {
              ip-netmask 10.1.2.10;
            }
            DC2 {
              ip-netmask 10.1.2.100;
            }
          }
          address-group {
            nat-group-servers {
              static vlan-5-servers;
            }
            nat-group-users {
              static vlan-6-users1;
            }
          }
          tag {
            inside {
              color color2;
            }
            outside {
              color color1;
            }
          }
        }
      }
    }
  }
}
